!function(){"use strict";function t(t){var n,e,o,u,i=this,a={containerText:"Are you still watching?",containerClass:"",continueButtonText:"Yes, Continue",continueButtonClass:"",stopButtonText:"No",stopButtonClass:"",waitClass:"",showMessageAfter:12e5,pausePlayerAfter:1e4,continueButtonClickHandler:null,stopButtonClickHandler:null},s={countdownTimeoutId:null,buttonTimeoutId:null},c=videojs.mergeOptions(a,t),l=function(){if(r("countdownTimeoutId"),!i.paused()){if(c.waitClass&&i.hasClass(c.waitClass))return void i.setTimeout(l,1e4);T(),s.buttonTimeoutId=i.setTimeout(function(){i.pause()},c.pausePlayerAfter),i.one("play",function(){p(),r("buttonTimeoutId")})}},d=function(){s.countdownTimeoutId&&r("countdownTimeoutId"),s.countdownTimeoutId=i.setTimeout(l,c.showMessageAfter)},r=function(t){var n=s[t];n&&i.clearTimeout(n),s[t]=null},m=function(t){p(),r("buttonTimeoutId"),"function"==typeof c.continueButtonClickHandler?c.continueButtonClickHandler.call(i,t):i.paused()&&i.play()},f=function(t){p(),r("buttonTimeoutId"),"function"==typeof c.stopButtonClickHandler?c.stopButtonClickHandler.call(i,t):(i.pause().currentTime(0).trigger("loadstart"),i.hasStarted(!1))},p=function(){n.className.match(/\bhidden\b/)||(n.className+=" hidden")},T=function(){n.className=n.className.replace(/\bhidden\b/,"")},C=function(){n=document.createElement("div"),n.className="vjs-afk-container "+c.containerClass,p(),e=document.createElement("h1"),e.className="container-text",e.innerHTML=c.containerText,o=document.createElement("button"),o.className="vjs-afk-button afk-button "+c.continueButtonClass,o.innerHTML=c.continueButtonText,o.addEventListener("click",m),u=document.createElement("button"),u.className="vjs-afk-button afk-button "+c.stopButtonClass,u.innerHTML=c.stopButtonText,u.addEventListener("click",f),n.appendChild(e),n.appendChild(o),n.appendChild(u),i.el().appendChild(n),i.on("userinactive",function(){i.paused()||d()}),i.on("useractive",function(){r("countdownTimeoutId")})};i.ready(function(){C()})}videojs.plugin("AFKMonitor",t)}();